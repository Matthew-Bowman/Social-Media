<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Documentation</title>

    <!-- Import Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-dark bg-dark border-secondary">
      <div class="container-fluid">
        <a href="/docs" class="navbar-brand">Navbar Template</a>
      </div>
    </nav>

    <!-- <header class="container-fluid bg-light mx-auto p-5 text-center">
      <div class="py-5">
        <h1 class="display-1">API Documentation</h1>
        <a href="#main" class="btn btn-outline-dark mt-2">Get Started</a>
      </div>
    </header> -->

    <main id="main" class="container mx-auto my-5 text-start">
      <div class="py-5">
        <h1 class="mb-4">Endpoints</h1>
        <!-- SECTION CONTAINER -->
        <section class="ps-sm-4 mb-4">
          <% Categories.forEach(cat => {%>
          <h2><%= cat.Name %></h2>

          <article class="ps-sm-4 mb-3">
            <% cat.Routes.forEach(route => { %>
            <div class="card shadow mt-4">
              <div
                class="card-header p-0 border-0"
                data-bs-toggle="collapse"
                data-bs-target="#<%= route.Identifier %>"
              >
                <div class="input-group m-0">
                  <span class="input-group-text bg-dark text-white"
                    ><%= route.Method %></span
                  >
                  <p class="form-control m-0"><%= route.Route %></p>
                </div>
              </div>
              <div class="collapse card-body p-0" id="<%= route.Identifier %>">
                <div class="p-3 d-flex flex-column gap-5">
                  <!-- PAYLOAD -->
                  <section>
                    <h4>Payload</h4>
                    <table class="table table-light border rounded table-hover">
                      <thead>
                        <tr>
                          <th scope="col">Name</th>
                          <th scope="col">Type</th>
                          <th scope="col">Value</th>
                        </tr>
                      </thead>
                      <tbody>
                        <% route.Payload.forEach(item => { %>
                        <tr>
                          <td><%= item.Name %></td>
                          <td><%= item.Type %></td>
                          <td><%= item.Value %></td>
                        </tr>
                        <%})%>
                      </tbody>
                    </table>
                  </section>
                  <!-- SUCCESSFUL RESPONSE -->
                  <section>
                    <h4>Successful Response</h4>
                    <% route["Successful Response"].forEach(response => { %>
                    <h5 class="fs-bold"><%= response.Heading %></h5>
                    <table class="table table-light border rounded table-hover">
                      <thead>
                        <tr>
                          <th scope="col">Name</th>
                          <th scope="col">Data Type</th>
                        </tr>
                      </thead>
                      <tbody>
                        <% response.Rows.forEach(row => { %>
                        <tr>
                          <td><%= row.Name %></td>
                          <td><%= row.Datatype %></td>
                        </tr>
                        <%})%>
                      </tbody>
                    </table>
                    <%})%>
                  </section>
                  <!-- ERROR RERSPONSES -->
                  <section>
                    <h4>Error Responses</h4>
                    <table class="table table-light border rounded table-hover">
                      <thead>
                        <tr>
                          <th scope="col">HTTP Status Code</th>
                          <th scope="col">Reason</th>
                        </tr>
                      </thead>
                      <tbody>
                        <%route["Error Responses"].forEach(error => {%>
                        <tr>
                          <td><%= error.Code %></td>
                          <td><%= error.Message %></td>
                        </tr>
                        <%})%>
                      </tbody>
                    </table>
                  </section>
                </div>
              </div>
            </div>
            <%})%>
          </article>
          <% }) %>
        </section>
      </div>
    </main>

    <footer class="bg-dark mt-auto py-3">
      <h3 class="text-light text-center my-auto">Footer Template</h3>
    </footer>
  </body>
</html>
